<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Autobiographical Slide</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Comic+Neue:wght@400;700&family=Courier+Prime:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Comic Neue', sans-serif;
            background: linear-gradient(45deg, #ff69b4, #00bfff, #ffd700, #98fb98);
            background-size: 400% 400%;
            animation: gradientShift 8s ease-in-out infinite;
            position: relative;
        }
        
        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        
        /* Geocities-style background pattern overlay */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: 
                radial-gradient(circle at 20% 20%, rgba(255,255,255,0.2) 2px, transparent 2px),
                radial-gradient(circle at 80% 80%, rgba(255,255,255,0.2) 1px, transparent 1px);
            background-size: 50px 50px, 30px 30px;
            z-index: -1;
        }
        
        .slide-container {
            background: rgba(75, 0, 130, 0.95);
            border: 4px solid #ffd700;
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
        }
        
        .survey-text {
            transform: translateY(100%);
            transition: transform 0.5s ease-in-out;
        }
        
        .survey-text.show {
            transform: translateY(0);
        }
        
        .nav-link {
            background: linear-gradient(45deg, #ff1493, #00bfff);
            border: 2px solid #ffd700;
            text-decoration: none;
            font-weight: bold;
            transition: all 0.3s ease;
        }
        
        .nav-link:hover {
            background: linear-gradient(45deg, #00bfff, #ff1493);
            box-shadow: 0 4px 15px rgba(255, 215, 0, 0.6);
            text-decoration: underline;
        }
        
        .survey-btn {
            background: linear-gradient(45deg, #ffd700, #ff69b4);
            border: 3px solid #fff;
            font-weight: bold;
            transition: all 0.3s ease;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        .survey-btn:hover {
            background: linear-gradient(45deg, #ff69b4, #ffd700);
            transform: scale(1.1);
        }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center text-white">
    <div class="slide-container w-[80vw] h-[80vh] rounded-lg p-8 relative flex flex-col">
        <!-- Logo in top right -->
        <div class="absolute top-4 right-4">
            <img src="assets/artificial-ruby-logo.png" alt="Artificial Ruby Logo" class="w-16 h-16">
        </div>
        
        <!-- Main content area -->
        <div class="flex-1 flex flex-col items-center justify-center space-y-8 max-w-4xl mx-auto">
            <!-- Graph area -->
            <div id="plateau-graph" class="w-full h-32 mb-4"></div>
            
            <!-- Main heading -->
            <h1 class="text-5xl font-bold text-center text-yellow-300 mb-8">The Autobiographical Slide</h1>
            
            <!-- Primary bullet points -->
            <div class="text-3xl font-bold text-center space-y-4 text-white">
                <div>• We got older,</div>
                <div>• Our focus moved to stability, our careers, productivity</div>
                <div>• The experimental spark dimmed</div>
            </div>
            
            <!-- Tertiary text -->
            <div class="text-xl text-gray-300 text-center mt-8 mb-6">
                But who knows, maybe we found all there was to find in web2.0?
            </div>
            
            <!-- Survey button -->
            <button id="survey-btn" class="survey-btn px-8 py-4 rounded-lg text-2xl text-purple-900 cursor-pointer">
                Survey!
            </button>
            
            <!-- Hidden survey text -->
            <div id="survey-text" class="survey-text overflow-hidden">
                <div class="text-3xl font-bold text-center text-yellow-300 bg-purple-900 bg-opacity-90 p-6 rounded-lg border-2 border-yellow-400">
                    Raise your hand if you've never heard of Why the Lucky Stiff or don't know the history of Camping and Sinatra?
                </div>
            </div>
        </div>
        
        <!-- Navigation area -->
        <div class="flex justify-between items-center mt-auto pt-4">
            <a href="/02_golden_age" class="nav-link px-6 py-3 rounded-lg text-white hover:text-yellow-300">
                ← Prev: Golden Age
            </a>
            <a href="/04_still_a_spark" class="nav-link px-6 py-3 rounded-lg text-white hover:text-yellow-300">
                Next: Still a Spark →
            </a>
        </div>
    </div>

    <script>
        // Create plateau graph using D3
        const graphContainer = d3.select("#plateau-graph");
        const width = 600;
        const height = 120;
        
        const svg = graphContainer.append("svg")
            .attr("width", "100%")
            .attr("height", height)
            .attr("viewBox", `0 0 ${width} ${height}`)
            .style("background", "rgba(255, 255, 255, 0.1)")
            .style("border", "2px solid #ffd700")
            .style("border-radius", "8px");
        
        // Create plateau-like data
        const data = [
            {x: 0, y: 20}, {x: 50, y: 80}, {x: 100, y: 85},
            {x: 200, y: 88}, {x: 300, y: 87}, {x: 400, y: 86},
            {x: 500, y: 85}, {x: 550, y: 83}, {x: 600, y: 80}
        ];
        
        // Scales
        const xScale = d3.scaleLinear().domain([0, 600]).range([20, width - 20]);
        const yScale = d3.scaleLinear().domain([0, 100]).range([height - 20, 20]);
        
        // Line generator
        const line = d3.line()
            .x(d => xScale(d.x))
            .y(d => yScale(d.y))
            .curve(d3.curveMonotoneX);
        
        // Draw the plateau line
        svg.append("path")
            .datum(data)
            .attr("fill", "none")
            .attr("stroke", "#ffd700")
            .attr("stroke-width", 4)
            .attr("d", line);
        
        // Add dots at key points
        svg.selectAll(".dot")
            .data(data.filter((d, i) => i % 2 === 0))
            .enter().append("circle")
            .attr("class", "dot")
            .attr("cx", d => xScale(d.x))
            .attr("cy", d => yScale(d.y))
            .attr("r", 4)
            .attr("fill", "#ff69b4");
        
        // Survey button functionality
        const surveyBtn = document.getElementById('survey-btn');
        const surveyText = document.getElementById('survey-text');
        
        surveyBtn.addEventListener('click', function() {
            surveyText.classList.toggle('show');
        });
    </script>
</body>
</html>